<!DOCTYPE html>
<html lang="zh-cn">

<head>

<title>排列组合</title>
<meta charset="utf-8" />

<link rel="stylesheet" type="text/css" href="css/math.css" />
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=AM_HTMLorMML-full"></script>
<script src="mathjax/MathJax.js?config=AM_HTMLorMML-full"></script>
<script src="js/asciimathml.js"></script>

</head>

<body>

<h2>常见模型一: 分家产 (投球入盒)</h2>

<h3>把 6 本相同 (即, 不加区分) 的书分成 4 堆 (这 4 堆也不加区分):</h3>

<p>	6 = 3 + 1 + 1 + 1 = 2 + 2 + 1 + 1 (2 种).</p>

<h3>把 n 本不同的书分成 k 份,
	每份分别有 `r_i` 本 (i = 1, 2, ..., k):
</h3>

<p>	`((n),(r_1)) ((n-r_1),(r_2)) cdots
	((n - sum_(i=1)^(k-1) r_i),(r_k))
	= (n!) / (r_1! r_2! cdots r_k!)`.
</p>

<h3>把 6 本不同的书分成 (不加区分的) 4 堆:</h3>
<p>	` ( ((6),(3)) ((3),(1)) ((2),(1)) ((1),(1)) ) / (3!)
	+ ( ((6),(2)) ((4),(2)) ) / (2!) * ( ((2),(1)) ((1),(1)) ) / (2!) 
	= 65`.
</p>

<h3>将 n 本相同的书分给 r 人, 要求每人至少分得一本:</h3>
<p>	可将书排成一行, 在形成的 n - 1 个空隙中插入 r - 1 个隔板,
	再把从左至右的 r 份依次分给这些人. 结果有 `((n-1),(r-1))` 种.
</p>

<h3>将 n 本相同的书分给 r 人, 但允许一些人没有分到书:</h3>
<p>	再添 r 本书, 每人先分得一本. 问题就变成将 n + r 本书分给 r 个人,
	每人至少一本. 结果有 `((n+r-1),(r-1)) = ((n+r-1),(n))` 种.
</p>
<p>	等价表述: 从 r 个不同的元素中允许重复地取 n 个, 不计顺序.</p>

<h3>将 6 本不同的书分给 4 人:</h3>
<p>	先把书分成不加区分的 4 堆, 再分给 4 人. 共 65 * 4! = 1560 种.</p>

<h2>削尖脑袋</h2>

<h3>设圆周上有 n 个两两不同的点, 问: 这些点相连形成的 `((n),(2))`
	条线段最多将这个圆形区域分割成几部分?
</h3>

<p>	设答案是 F(n), 容易验证, F(1) = 1, F(2) = 2, F(3) = 4, F(4) = 8,
	F(5) = 16, 我们不禁猜想: `F(n) = 2^(n-1)` 吗?
</p>

<p>	很遗憾, 猜想错误. 下面给出正解.</p>

<p>	设 f(n) = F(n+1) - F(n).
	即考虑已有 n 个点时, 再加入一个点将增加多少块分割.
	事实上, 如果从新加入的点开始, 沿圆周方向依次记已有的 n 个点为
	`P_k`, k = 0, 1, 2, ..., n-1, 并将新的点与它们一一连接, 这样产生的
	线段分别记为 `s_k`. 则 `s_k` 分圆周为两部分, 上面分别有 k 个点
	(编号小于 k 的) 和 n - 1 - k 个点 (编号大于 k 的). 要使这些线段将
	圆形区域分成尽可能多块, 只需左右两组点的所有连线在 `s_k` 上的交点
	两两不重合, 即有 k(n - 1 - k) 个交点. 显然这些交点把 `s_k` 分为
	k(n - 1 - k) + 1 段, 从而新产生同样数目的分割. 总之,

	<span class="formula">`
{:(			f(n)
,		=	sum_(k=0)^(n-1) [k(n - 1 - k) + 1]
),(,	=	1/6 n^3 - 1/2 n^2 + 4/3 n.
):}`</span>

	(计算时用到了 Bernoulli 公式), 接着, 由于 F(1) = 1,

	<span class="formula">`
{:(			F(n)
,		=	F(1) + sum_(k=1)^(n-1) f(k)
),(,	=	1/24 n^4 - 1/4 n^3 + 23/24 n^2 -3/4 n + 1.
):}`</span>
	<span class="right">&square;</span>
</p>

</body>

<script src="js/random-color.js"></script>
<script src="js/main.js"></script>

</html>
